---
title: "Next.js API Routes vs tRPC: íƒ€ì… ì•ˆì „í•œ API í†µì‹ ì˜ ì§„í™”"
description: "as íƒ€ì… ë‹¨ì–¸ì´ ë¶ˆì•ˆí–ˆë˜ ê²½í—˜ì—ì„œ ì‹œì‘ëœ tRPC ë„ì…ê¸°."
date: "2026-01-19"
published: true
category: "Frontend"
tag: "Nextjs"
---

```typescript
return (await response.json()) as { review: string; message: string };
```

ì´ ì½”ë“œë¥¼ ë³¼ ë•Œë§ˆë‹¤ ë¶ˆì•ˆí–ˆìŠµë‹ˆë‹¤.

`as`ëŠ” TypeScriptì—ê²Œ "ë‚´ ë§ì„ ë¯¿ì–´"ë¼ê³  ê°•ìš”í•˜ëŠ” ê²ƒì´ê±°ë“ ìš”. ì„œë²„ê°€ ì‹¤ì œë¡œ ë¬´ì—‡ì„ ë°˜í™˜í•˜ë“ , ì»´íŒŒì¼ëŸ¬ëŠ” ëª¨ë¦…ë‹ˆë‹¤. ì„œë²„ì—ì„œ `message`ë¥¼ `status`ë¡œ ë°”ê¿”ë„ IDEëŠ” ê²½ê³ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŸ°íƒ€ì„ì— í„°ì§€ê²Œ ë˜ëŠ”ê±°ì£ .

ì‹¤ì œë¡œ ì´ëŸ° ë²„ê·¸ë¥¼ ê²ªê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì„œë²„ ì‘ë‹µ êµ¬ì¡°ë¥¼ ë³€ê²½í–ˆëŠ”ë°, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì˜ `as` ë‹¨ì–¸ì„ ê¹œë¹¡í•˜ê³  ìˆ˜ì •í•˜ì§€ ì•Šì•˜ì—ˆë˜ê±°ì£ . ì´ì—ë”°ë¼, `undefined` ì—ëŸ¬ê°€ í„°ì¡Œì—ˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì tRPC ë„ì…ì„ ìƒê°í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

---

> ì´ ê¸€ì—ì„œëŠ” ë‘ ê°€ì§€ ë°©ì‹ì„ ê°ê´€ì ìœ¼ë¡œ ë¹„êµí•˜ë©´ì„œ, ì™œ tRPCë¡œì˜ ì „í™˜ì„ ê²°ì •í–ˆëŠ”ì§€ ê·¸ ê³¼ì •ì„ ê³µìœ í•©ë‹ˆë‹¤.
> 1. **Next.jsì˜ ê¸°ë³¸ API Routes** (App Routerì˜ Route Handlers)
> 2. **tRPC** (TypeScript Remote Procedure Call)

---

## ë¬¸ì œ í”„ë¡œì íŠ¸ì˜ API êµ¬ì¡°

í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” Next.js App Routerì˜ **Route Handlers**ë¥¼ ì‚¬ìš©í•˜ì—¬ APIë¥¼ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
app/api/
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ prompts/route.ts
â”‚   â””â”€â”€ whitelist/route.ts
â”œâ”€â”€ generate-review/route.ts
â”œâ”€â”€ edit-review/route.ts
â”œâ”€â”€ analyze-style/route.ts
â””â”€â”€ style-profile/route.ts
```

### ì„œë²„ ì‚¬ì´ë“œ (API Route)

```typescript
// app/api/generate-review/route.ts
import { createGenerateReviewHandler } from '@/features/review/api/create-generate-review-handler';
import { generateReviewWithClaudeAPI } from '@/features/review/lib/review-generator';

export const POST = createGenerateReviewHandler({
  validateReviewPayload: isValidReviewPayload,
  readStyleProfile,
  generateReview: generateReviewWithClaudeAPI,
  saveReviewToDB,
  getUserStatus,
  incrementUsageCount,
});
```

### í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ (API í˜¸ì¶œ)

```typescript
// src/features/review/api/review-api.ts
export const generateReview = async (
  payload: ReviewPayload,
): Promise<{ review: string; message: string }> => {
  const response = await fetch('/api/generate-review', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload),
  });

  if (!response.ok) {
    const errorData = await response.json().catch(() => ({}));
    throw new Error(errorData.error || 'ë¦¬ë·° ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  }

  return (await response.json()) as { review: string; message: string };
};
```

### ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ ì‚¬ìš©

```typescript
// ì–´ë–¤ React ì»´í¬ë„ŒíŠ¸ì—ì„œ
import { generateReview } from '@/features/review/api/review-api';

const handleGenerate = async () => {
  try {
    const result = await generateReview({
      placeName: 'ì„œìš¸ ë§›ì§‘',
      placeUrl: 'https://example.com',
      userDraft: 'ì •ë§ ë§›ìˆì—ˆì–´ìš”!',
    });
    console.log(result.review);
  } catch (error) {
    console.error(error);
  }
};
```

---

## Next.js API Routesì˜ ì‘ë™ ë°©ì‹

Next.js API RoutesëŠ” ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ë¡œ ë™ì‘í•˜ë©°, HTTP ë©”ì„œë“œë³„ë¡œ í•¸ë“¤ëŸ¬ë¥¼ exportí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

### ì¥ì 

1. **ë¹ ë¥¸ ì‹œì‘**: ë³„ë„ ì„¤ì • ì—†ì´ `app/api` í´ë”ì— íŒŒì¼ë§Œ ë§Œë“¤ë©´ ë¨
2. **ìµìˆ™í•œ REST API íŒ¨í„´**: HTTP ë©”ì„œë“œ(GET, POST, PUT, DELETE) ì‚¬ìš©
3. **ìœ ì—°ì„±**: ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸(ëª¨ë°”ì¼ ì•±, ë‹¤ë¥¸ ì„œë¹„ìŠ¤)ì—ì„œë„ í˜¸ì¶œ ê°€ëŠ¥
4. **ë‹¨ìˆœì„±**: ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ Next.jsë§Œìœ¼ë¡œ ì™„ê²°

### ë‹¨ì 

1. **íƒ€ì… ì•ˆì •ì„± ë¶€ì¡±**
   ```typescript
   // ì„œë²„ì—ì„œ ì •ì˜í•œ íƒ€ì…
   type Response = { review: string; message: string };
   
   // í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” íƒ€ì…ì„ ìˆ˜ë™ìœ¼ë¡œ as ë‹¨ì–¸í•´ì•¼ í•¨
   return (await response.json()) as { review: string; message: string };
   ```
   - ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ íƒ€ì…ì´ ìë™ìœ¼ë¡œ ë™ê¸°í™”ë˜ì§€ ì•ŠìŒ
   - íƒ€ì… ë¶ˆì¼ì¹˜ ì‹œ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥

2. **ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ë°˜ë³µ**
   ```typescript
   // ëª¨ë“  API í˜¸ì¶œë§ˆë‹¤ ë°˜ë³µë˜ëŠ” ì½”ë“œ
   const response = await fetch('/api/...', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify(payload),
   });
   
   if (!response.ok) {
     const errorData = await response.json().catch(() => ({}));
     throw new Error(errorData.error || '...');
   }
   
   return await response.json();
   ```

3. **íƒ€ì… ì¶”ë¡  ë¶ˆê°€**
   - IDEì—ì„œ API ì‘ë‹µ êµ¬ì¡°ë¥¼ ìë™ ì™„ì„±í•  ìˆ˜ ì—†ìŒ
   - íŒŒë¼ë¯¸í„° ê²€ì¦ì„ ëŸ°íƒ€ì„ì— ìˆ˜ë™ìœ¼ë¡œ í•´ì•¼ í•¨

4. **URL í•˜ë“œì½”ë”©**
   ```typescript
   fetch('/api/generate-review') // ì˜¤íƒ€ ë°œìƒ ì‹œ ì»´íŒŒì¼ íƒ€ì„ì— ê°ì§€ ë¶ˆê°€
   ```

---

## **tRPC**ë€ ë¬´ì—‡ì¸ê°€?

**tRPC**ëŠ” "TypeScript Remote Procedure Call"ì˜ ì•½ìë¡œ, **íƒ€ì… ì•ˆì „í•œ APIë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬** ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°œë…

- **ì—”ë“œíˆ¬ì—”ë“œ íƒ€ì… ì•ˆì •ì„±**: ì„œë²„ì—ì„œ ì •ì˜í•œ íƒ€ì…ì´ í´ë¼ì´ì–¸íŠ¸ì— ìë™ìœ¼ë¡œ ì „ë‹¬.
- **RPC ìŠ¤íƒ€ì¼**: RESTê°€ ì•„ë‹Œ í•¨ìˆ˜ í˜¸ì¶œì²˜ëŸ¼ API ì‚¬ìš©.
- **Zero-runtime overhead**: íƒ€ì… ì •ë³´ëŠ” ë¹Œë“œ ì‹œì—ë§Œ ì‚¬ìš©ë˜ê³  ëŸ°íƒ€ì„ì—ëŠ” ì œê±°ë¨.

### tRPCì˜ ì² í•™

> "If it compiles, it works."

ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì¼í•œ TypeScript ì½”ë“œë² ì´ìŠ¤ë¥¼ ê³µìœ í•˜ë©´, ì»´íŒŒì¼ íƒ€ì„ì— ëª¨ë“  íƒ€ì… ì—ëŸ¬ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì™œ "ê°™ì€ ì½”ë“œë² ì´ìŠ¤"ì—¬ì•¼ í•˜ëŠ”ê°€?

ì²˜ìŒ tRPCë¥¼ ì ‘í–ˆì„ ë•Œ ì´ ë¶€ë¶„ì´ ì˜ ì´í•´ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.  
ì™œ í’€ìŠ¤íƒ TypeScript í”„ë¡œì íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê±¸ê¹Œìš”?

**í•µì‹¬ì€ TypeScript ì»´íŒŒì¼ëŸ¬ê°€ ì„œë²„ ì½”ë“œë¥¼ "ì§ì ‘ ì½ì–´ì•¼" í•œë‹¤ëŠ” ê²ƒ ì´ì˜€ìŠµë‹ˆë‹¤.**

```typescript
// ì„œë²„ (src/server/routers/user.ts)
export const userRouter = router({
  getUser: publicProcedure.query(() => {
    return { name: "ì² ìˆ˜", age: 30 };  // â† TypeScriptê°€ ì´ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ 
  }),
});

// í´ë¼ì´ì–¸íŠ¸ (src/pages/index.tsx)
import type { AppRouter } from '@/server/routers/_app';  // â† ì„œë²„ íƒ€ì…ì„ import!

const { data } = trpc.user.getUser.useQuery();
// dataì˜ íƒ€ì…: { name: string; age: number } - ìë™ ì¶”ë¡ ë¨
```

í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì˜ íƒ€ì… ì •ì˜ë¥¼ **ì§ì ‘ import**í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ì„œë²„ê°€ Javaë‚˜ Pythonìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆë‹¤ë©´, TypeScript ì»´íŒŒì¼ëŸ¬ê°€ ê·¸ ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ì—†ìœ¼ë‹ˆ, tRPC ë°©ì‹ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

ì´ê²ƒì´ tRPCì˜ **ê°•ì ì´ì ì œì•½**ì´ ë˜ì–´ë²„ë¦½ë‹ˆë‹¤.
- ê°•ì : íƒ€ì…ì´ ìë™ìœ¼ë¡œ ë™ê¸°í™”ë¨
- ì œì•½: í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°€ ê°™ì€ TypeScript í”„ë¡œì íŠ¸ì—¬ì•¼ í•¨

ë§Œì•½, Next.js í’€ìŠ¤íƒ í”„ë¡œì íŠ¸ë¼ë©´, ì™„ë²½í•œ ì¡°í•©ì´ ë˜ê² ì£ .

### ì™¸ë¶€ ë°±ì—”ë“œ(Java/Python ë“±)ë¥¼ ì‚¬ìš©í•œë‹¤ë©´?

tRPCëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëŒ€ì‹  íƒ€ì… ì•ˆì •ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆëŠ” ëŒ€ì•ˆë“¤ì´ ìˆìŠµë‹ˆë‹¤.

- **OpenAPI + ì½”ë“œ ìƒì„±**: ë°±ì—”ë“œì˜ Swagger ìŠ¤í™ì—ì„œ TypeScript íƒ€ì…ì„ ìë™ ìƒì„±
- **GraphQL**: ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì… ìë™ ìƒì„±
- **ìˆ˜ë™ íƒ€ì… ì •ì˜**: API ë¬¸ì„œë¥¼ ë³´ê³  ì§ì ‘ íƒ€ì… ì‘ì„± (ìœ ì§€ë³´ìˆ˜ ë¹„ìš© ë†’ìŒ)

ì´ ê¸€ì—ì„œëŠ” Next.js í’€ìŠ¤íƒ í™˜ê²½ì„ ì „ì œë¡œ tRPCë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

---

## ì‹¤ì œ ì½”ë“œ ë¹„êµ

ê°™ì€ ê¸°ëŠ¥ì„ Next.js API Routesì™€ tRPCë¡œ ê°ê° êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

### ì˜ˆì œ: ë¦¬ë·° ìƒì„± API

#### 1ï¸âƒ£ Next.js API Routes ë°©ì‹

**ì„œë²„ (`app/api/generate-review/route.ts`)**

```typescript
import { NextRequest, NextResponse } from 'next/server';
import type { ReviewPayload } from '@/entities/review/model/types';

export async function POST(request: NextRequest) {
  try {
    const payload: ReviewPayload = await request.json();
    
    if (!payload.placeName || !payload.placeUrl) {
      return NextResponse.json(
        { error: 'í•„ìˆ˜ í•„ë“œê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.' },
        { status: 400 }
      );
    }

    const review = await generateReview(payload);
    
    return NextResponse.json({ 
      review, 
      message: 'ìƒì„± ì™„ë£Œ' 
    });
  } catch (error) {
    return NextResponse.json(
      { error: 'ì„œë²„ ì˜¤ë¥˜' },
      { status: 500 }
    );
  }
}
```

**í´ë¼ì´ì–¸íŠ¸ (`src/features/review/api/review-api.ts`)**

```typescript
import type { ReviewPayload } from '@/entities/review/model/types';

export const generateReview = async (
  payload: ReviewPayload
): Promise<{ review: string; message: string }> => {
  const response = await fetch('/api/generate-review', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload),
  });

  if (!response.ok) {
    const errorData = await response.json().catch(() => ({}));
    throw new Error(errorData.error || 'ë¦¬ë·° ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  }

  // âš ï¸ íƒ€ì… ë‹¨ì–¸ í•„ìš” - ëŸ°íƒ€ì„ì— ê²€ì¦ë˜ì§€ ì•ŠìŒ
  return (await response.json()) as { review: string; message: string };
};
```

**ì‚¬ìš© (`ì»´í¬ë„ŒíŠ¸`)**

```typescript
import { generateReview } from '@/features/review/api/review-api';

const result = await generateReview({
  placeName: 'ì„œìš¸ ë§›ì§‘',
  placeUrl: 'https://example.com',
  userDraft: 'ë§›ìˆì–´ìš”',
});
```

#### 2ï¸âƒ£ `tRPC` ë°©ì‹

**ì„œë²„ (`src/server/routers/review.ts`)**

```typescript
import { z } from 'zod';
import { publicProcedure, router } from '../trpc';

// Zodë¥¼ ì‚¬ìš©í•œ ëŸ°íƒ€ì„ + íƒ€ì… ê²€ì¦
const reviewPayloadSchema = z.object({
  placeName: z.string().min(1, 'ì¥ì†Œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  placeUrl: z.string().url('ì˜¬ë°”ë¥¸ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”'),
  userDraft: z.string().optional(),
});

export const reviewRouter = router({
  generate: publicProcedure
    .input(reviewPayloadSchema) // ìë™ ê²€ì¦
    .mutation(async ({ input }) => {
      const review = await generateReview(input);

      return {
        review,
        message: 'ìƒì„± ì™„ë£Œ'
      };
    }),
});

export type ReviewRouter = typeof reviewRouter;
```

#### Zod í†µí•©ì˜ ì§„ì§œ ê°€ì¹˜

ì²˜ìŒì—” "ê²€ì¦ ì½”ë“œê°€ ì¤„ì–´ë“œëŠ”êµ¬ë‚˜" ì •ë„ë¡œ ìƒê°í–ˆì—ˆëŠ”ë°ìš”, í•˜ì§€ë§Œ ì§„ì§œ ê°€ì¹˜ëŠ” ë‹¤ë¥¸ ê³³ì— ìˆì—ˆìŠµë‹ˆë‹¤.

**ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œ:**
- TypeScript íƒ€ì…: ì»´íŒŒì¼ íƒ€ì„ì—ë§Œ ì¡´ì¬ (ëŸ°íƒ€ì„ì— ì‚¬ë¼ì§)
- ëŸ°íƒ€ì„ ê²€ì¦: ë³„ë„ë¡œ ì‘ì„±í•´ì•¼ í•¨
- â†’ ë‘˜ì´ ì–´ê¸‹ë‚˜ë©´? ë²„ê·¸. ğŸ¤¯

**Zod + tRPC:**
```typescript
// ìŠ¤í‚¤ë§ˆ í•˜ë‚˜ë¡œ "ëŸ°íƒ€ì„ ê²€ì¦"ê³¼ "íƒ€ì… ì •ì˜"ë¥¼ ë™ì‹œì—!
const reviewPayloadSchema = z.object({
  placeName: z.string().min(1),
  placeUrl: z.string().url(),
});

// ì´ ìŠ¤í‚¤ë§ˆì—ì„œ íƒ€ì…ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤
type ReviewPayload = z.infer<typeof reviewPayloadSchema>;
// â†’ { placeName: string; placeUrl: string }

// tRPCì—ì„œ ì‚¬ìš©í•˜ë©´
.input(reviewPayloadSchema)
.mutation(async ({ input }) => {
  // inputì˜ íƒ€ì…ì´ ìë™ìœ¼ë¡œ ReviewPayload!
  // ê·¸ë¦¬ê³  ëŸ°íƒ€ì„ì—ë„ ì‹¤ì œë¡œ ê²€ì¦ë¨!
})
```

> **ìŠ¤í‚¤ë§ˆ í•˜ë‚˜ë¡œ íƒ€ì…ê³¼ ê²€ì¦ì„ ë™ì‹œì— ì •ì˜í•œë‹¤.** ì ˆëŒ€ ì–´ê¸‹ë‚  ìˆ˜ ì—†ë‹¤.  
ì´ ë¶€ë¶„ì´ ì •ë§ ì™€ë‹¿ì•˜ë˜ ë¶€ë¶„ ì´ì˜€ìŠµë‹ˆë‹¤.

**í´ë¼ì´ì–¸íŠ¸ (`src/utils/trpc.ts`)**

```typescript
import { createTRPCReact } from '@trpc/react-query';
import type { AppRouter } from '@/server/routers/_app';

export const trpc = createTRPCReact<AppRouter>();
```

**ì‚¬ìš© (`ì»´í¬ë„ŒíŠ¸`)**

```typescript
import { trpc } from '@/utils/trpc';

const generateMutation = trpc.review.generate.useMutation();

const handleGenerate = () => {
  generateMutation.mutate({
    placeName: 'ì„œìš¸ ë§›ì§‘',
    placeUrl: 'https://example.com',
    userDraft: 'ë§›ìˆì–´ìš”',
  }, {
    onSuccess: (data) => {
      // dataì˜ íƒ€ì…ì´ ìë™ìœ¼ë¡œ ì¶”ë¡ ë¨!
      // data: { review: string; message: string }
      console.log(data.review);
    },
  });
};
```

---

## íƒ€ì… ì•ˆì •ì„± ë¹„êµ

### Next.js API Routesì˜ íƒ€ì… íë¦„
![nextJs API Routes íë¦„](/img/posts/20260119/i47amg2.png)

**ë¬¸ì œì :**
- ì„œë²„ ì‘ë‹µì´ ë°”ë€Œë©´ í´ë¼ì´ì–¸íŠ¸ íƒ€ì…ì„ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
- íƒ€ì… ë¶ˆì¼ì¹˜ ì‹œ ì»´íŒŒì¼ íƒ€ì„ì— ê°ì§€ ë¶ˆê°€
- `as` ë‹¨ì–¸ìœ¼ë¡œ ì¸í•œ íƒ€ì… ì•ˆì •ì„± ì €í•˜

### tRPCì˜ íƒ€ì… íë¦„

![tRPCì˜ íƒ€ì… íë¦„](/img/posts/20260119/image.png)

**ì¥ì :**
- ì„œë²„ ì‘ë‹µì´ ë°”ë€Œë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¦‰ì‹œ íƒ€ì… ì—ëŸ¬ ë°œìƒ
- ì»´íŒŒì¼ íƒ€ì„ì— ëª¨ë“  íƒ€ì… ë¶ˆì¼ì¹˜ ê°ì§€
- `as` ë‹¨ì–¸ ë¶ˆí•„ìš”

### êµ¬ì²´ì ì¸ ì˜ˆì‹œ
> ì„œë²„ ì‘ë‹µ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.

**ì„œë²„ì—ì„œ ë°˜í™˜ íƒ€ì… ë³€ê²½**

```typescript
// Before
return { review: string, message: string }

// After
return { review: string, status: 'success' | 'partial' }
// message ì œê±°, status ì¶”ê°€
```

**Next.js API Routesì˜ ê²½ìš°:**

```typescript
// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ - ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ!
const data = await response.json() as { review: string; message: string };
console.log(data.message); // âš ï¸ ëŸ°íƒ€ì„ì— undefined ë°˜í™˜
```

ğŸ‘¾ ë¬¸ì œ ë°œê²¬ ì‹œì : **ëŸ°íƒ€ì„**(í”„ë¡œë•ì…˜)ì—ì„œ ë°œê²¬í•˜ê²Œ ë©ë‹ˆë‹¤.

**tRPCì˜ ê²½ìš°:**

```typescript
// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ - ì¦‰ì‹œ ì»´íŒŒì¼ ì—ëŸ¬!
onSuccess: (data) => {
  console.log(data.message); 
  // âŒ ì»´íŒŒì¼ ì—ëŸ¬: Property 'message' does not exist on type '{ review: string; status: "success" | "partial"; }'
}
```

ğŸŸ¢ ë¬¸ì œ ë°œê²¬ ì‹œì : **ì»´íŒŒì¼ íƒ€ì„**, IDEì—ì„œ ì¦‰ì‹œ ê°ì§€í•˜ê²Œ ë©ë‹ˆë‹¤.

---

//// ì„ì‹œì €ì¥

### ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥

#### ìš”ì²­/ì‘ë‹µ ì˜¤ë²„í—¤ë“œ

ë‘ ë°©ì‹ ëª¨ë‘ HTTPë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ë ˆë²¨ì—ì„œëŠ” ì°¨ì´ê°€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.

```
Next.js API Routes:
POST /api/generate-review
Content-Type: application/json
{ "placeName": "...", "placeUrl": "..." }

tRPC:
POST /api/trpc/review.generate
Content-Type: application/json
{ "placeName": "...", "placeUrl": "..." }
```

#### Batching (tRPCì˜ ì¥ì )

tRPCëŠ” ì—¬ëŸ¬ ìš”ì²­ì„ í•˜ë‚˜ë¡œ ë¬¶ëŠ” **ë°°ì¹­(batching)** ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

```typescript
// 3ê°œì˜ ìš”ì²­ì´ ë™ì‹œì— ë°œìƒí•˜ë©´
trpc.review.getById.useQuery({ id: 1 });
trpc.review.getById.useQuery({ id: 2 });
trpc.review.getById.useQuery({ id: 3 });

// tRPCê°€ ìë™ìœ¼ë¡œ í•˜ë‚˜ì˜ HTTP ìš”ì²­ìœ¼ë¡œ ë¬¶ìŒ
POST /api/trpc
[
  { "method": "review.getById", "params": { "id": 1 } },
  { "method": "review.getById", "params": { "id": 2 } },
  { "method": "review.getById", "params": { "id": 3 } }
]
```

---

## í”„ë¡œì íŠ¸ë³„ ì í•©ì„± ë¶„ì„

### Next.js API Routesê°€ ì í•©í•œ ê²½ìš°

âœ… **ë‹¤ìŒ ì¡°ê±´ì— í•´ë‹¹í•˜ë©´ Next.js API Routes ì‚¬ìš© ê¶Œì¥:**

1. **ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ê°€ APIë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°**
   - ëª¨ë°”ì¼ ì•± (React Native, Swift, Kotlin)
   - ë‹¤ë¥¸ ì›¹ì‚¬ì´íŠ¸
   - ì„œë“œíŒŒí‹° ì„œë¹„ìŠ¤ ì—°ë™
   
   tRPCëŠ” TypeScript í´ë¼ì´ì–¸íŠ¸ë§Œ ì§€ì›í•˜ë¯€ë¡œ ì™¸ë¶€ ì†Œë¹„ìì—ê²ŒëŠ” ë¶€ì í•©

2. **ì›¹í›…ì´ë‚˜ ê³µê°œ APIë¥¼ ì œê³µí•´ì•¼ í•˜ëŠ” ê²½ìš°**
   ```typescript
   // Stripe ì›¹í›…, GitHub ì›¹í›… ë“±
   POST /api/webhooks/stripe
   ```

3. **í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì‘ì€ ê²½ìš°**
   - API ì—”ë“œí¬ì¸íŠ¸ê°€ 5ê°œ ì´í•˜
   - íƒ€ì… ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ ë²„ê·¸ ìœ„í—˜ì´ ë‚®ìŒ

4. **íŒ€ì›ë“¤ì´ TypeScriptì— ìµìˆ™í•˜ì§€ ì•Šì€ ê²½ìš°**
   - REST APIëŠ” ë” ì§ê´€ì ì´ê³  í•™ìŠµ ê³¡ì„ ì´ ë‚®ìŒ

### tRPCê°€ ì í•©í•œ ê²½ìš°

âœ… **ë‹¤ìŒ ì¡°ê±´ì— í•´ë‹¹í•˜ë©´ tRPC ì‚¬ìš© ê¶Œì¥:**

1. **í’€ìŠ¤íƒ TypeScript í”„ë¡œì íŠ¸**
   - Next.js + TypeScriptë¡œ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ëª¨ë‘ ê°œë°œ
   - ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ ì§€ì›ì´ ë¶ˆí•„ìš”

2. **ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” í”„ë¡œì íŠ¸**
   - API ìŠ¤í™ì´ ìì£¼ ë³€ê²½ë¨
   - ë¦¬íŒ©í† ë§ì´ ì¦ìŒ
   - íƒ€ì… ì•ˆì •ì„±ìœ¼ë¡œ ë²„ê·¸ ì‚¬ì „ ë°©ì§€ í•„ìš”

3. **ì¤‘ëŒ€í˜• í”„ë¡œì íŠ¸**
   - API ì—”ë“œí¬ì¸íŠ¸ê°€ 10ê°œ ì´ìƒ
   - ì—¬ëŸ¬ ê°œë°œìê°€ ë™ì‹œì— ì‘ì—…
   - íƒ€ì… ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ ë²„ê·¸ ë¹„ìš©ì´ í¼

4. **DX(Developer Experience)ë¥¼ ì¤‘ì‹œí•˜ëŠ” ê²½ìš°**
   - ìë™ì™„ì„±, íƒ€ì… ì¶”ë¡  ë“±ìœ¼ë¡œ ìƒì‚°ì„± í–¥ìƒ
   - ë¦¬íŒ©í† ë§ ì•ˆì •ì„± í™•ë³´

---

## ìš°ë¦¬ í”„ë¡œì íŠ¸ì— tRPCë¥¼ ë„ì…í•œë‹¤ë©´?

í˜„ì¬ í”„ë¡œì íŠ¸ì˜ API êµ¬ì¡°ë¥¼ ë¶„ì„í•œ ê²°ê³¼:

### í˜„ì¬ ìƒí™©

```
API ì—”ë“œí¬ì¸íŠ¸:
- /api/generate-review (POST)
- /api/edit-review (POST)
- /api/analyze-style (POST)
- /api/style-profile (GET, POST)
- /api/admin/prompts (GET, POST)
- /api/admin/prompts/[id] (GET, PUT, DELETE)
- /api/admin/whitelist (GET, POST, PUT, DELETE)
```

**ì´ 7ê°œì˜ ì£¼ìš” API ë¼ìš°íŠ¸**, ì•½ 15ê°œì˜ ì—”ë“œí¬ì¸íŠ¸

### tRPC ë„ì… ì‹œ ì˜ˆìƒ ê°œì„ ì‚¬í•­

#### 1. íƒ€ì… ì•ˆì •ì„± í™•ë³´

**í˜„ì¬ (useWhitelist.ts):**

```typescript
const response = await fetch('/api/admin/whitelist', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-Admin-Password': password,
  },
  body: JSON.stringify({
    email: email.trim(),
    notes: notes.trim() || undefined,
  }),
});

const data = await response.json();
// âš ï¸ dataì˜ íƒ€ì…: any
```

**tRPCë¡œ ì „í™˜ í›„:**

```typescript
const addUserMutation = trpc.admin.whitelist.add.useMutation();

addUserMutation.mutate({
  email: email.trim(),
  notes: notes.trim() || undefined,
}, {
  onSuccess: (data) => {
    // âœ… data: { user: ApprovedUser }
    // âœ… íƒ€ì… ì•ˆì „, ìë™ì™„ì„± ì§€ì›
  },
});
```

#### 2. ì½”ë“œ ì¤‘ë³µ ì œê±°

**í˜„ì¬ ë°˜ë³µë˜ëŠ” íŒ¨í„´:**

```typescript
// useWhitelist.tsì—ë§Œ 4ë²ˆ ë°˜ë³µ
const response = await fetch('/api/admin/whitelist', {
  method: '...',
  headers: { 'X-Admin-Password': password },
  body: JSON.stringify(...),
});

if (!response.ok) {
  throw new Error('...');
}

const data = await response.json();
```

**tRPCë¡œ ì „í™˜ í›„:**

```typescript
// í•œ ì¤„ë¡œ í•´ê²°
trpc.admin.whitelist.list.useQuery();
trpc.admin.whitelist.add.useMutation();
trpc.admin.whitelist.update.useMutation();
trpc.admin.whitelist.delete.useMutation();
```

#### 3. ì˜ˆìƒ ì‘ì—…ëŸ‰

**ë§ˆì´ê·¸ë ˆì´ì…˜ ë²”ìœ„:**
1. tRPC ì„¤ì • (~2ì‹œê°„)
2. ê° API ë¼ìš°íŠ¸ë¥¼ tRPC í”„ë¡œì‹œì €ë¡œ ë³€í™˜ (~1ì‹œê°„ / ì—”ë“œí¬ì¸íŠ¸)
3. í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ë¦¬íŒ©í† ë§ (~30ë¶„ / ì»´í¬ë„ŒíŠ¸)

**ì´ ì˜ˆìƒ ì‹œê°„**: ì•½ 2-3ì¼

**ì¥ê¸°ì  ì´ì **: 
- íƒ€ì… ë¶ˆì¼ì¹˜ ë²„ê·¸ ê°ì†Œ â†’ QA ì‹œê°„ ë‹¨ì¶•
- ìƒˆë¡œìš´ API ê°œë°œ ì†ë„ í–¥ìƒ (~30% ë¹ ë¦„)
- ë¦¬íŒ©í† ë§ ì•ˆì •ì„± í–¥ìƒ

---

## ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆì‹œ

í˜„ì¬ í”„ë¡œì íŠ¸ì˜ `useWhitelist` í›…ì„ tRPCë¡œ ì „í™˜í•˜ëŠ” ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

### Before (Next.js API Routes)

**ì„œë²„ (`app/api/admin/whitelist/route.ts`)**

```typescript
export async function GET(request: NextRequest) {
  const password = request.headers.get('X-Admin-Password');
  
  if (!isValidPassword(password)) {
    return NextResponse.json({ error: 'ê¶Œí•œ ì—†ìŒ' }, { status: 403 });
  }

  const users = await getWhitelistUsers();
  return NextResponse.json({ users });
}

export async function POST(request: NextRequest) {
  const password = request.headers.get('X-Admin-Password');
  
  if (!isValidPassword(password)) {
    return NextResponse.json({ error: 'ê¶Œí•œ ì—†ìŒ' }, { status: 403 });
  }

  const { email, notes } = await request.json();
  const user = await addUserToWhitelist(email, notes);
  
  return NextResponse.json({ user });
}
```

**í´ë¼ì´ì–¸íŠ¸ (`src/features/admin/lib/useWhitelist.ts`)**

```typescript
const fetchUsers = async () => {
  const response = await fetch('/api/admin/whitelist', {
    headers: { 'X-Admin-Password': password },
  });

  if (!response.ok) {
    throw new Error('ì¡°íšŒ ì‹¤íŒ¨');
  }

  const data = await response.json();
  setUsers(data.users);
};

const addUser = async (email: string, notes: string) => {
  const response = await fetch('/api/admin/whitelist', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-Admin-Password': password,
    },
    body: JSON.stringify({ email, notes }),
  });

  const data = await response.json();

  if (!response.ok) {
    throw new Error(data.error || 'ì¶”ê°€ ì‹¤íŒ¨');
  }

  await fetchUsers();
};
```

### After (tRPC)

**ì„œë²„ (`src/server/routers/admin.ts`)**

```typescript
import { z } from 'zod';
import { router, protectedProcedure } from '../trpc';

// ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ ë¯¸ë“¤ì›¨ì–´
const adminProcedure = protectedProcedure.use(async ({ ctx, next }) => {
  const password = ctx.req.headers.get('x-admin-password');
  
  if (!isValidPassword(password)) {
    throw new TRPCError({ code: 'FORBIDDEN' });
  }

  return next({ ctx });
});

export const adminRouter = router({
  whitelist: router({
    // GET /api/admin/whitelist
    list: adminProcedure
      .query(async () => {
        const users = await getWhitelistUsers();
        return { users };
      }),

    // POST /api/admin/whitelist
    add: adminProcedure
      .input(z.object({
        email: z.string().email(),
        notes: z.string().optional(),
      }))
      .mutation(async ({ input }) => {
        const user = await addUserToWhitelist(input.email, input.notes);
        return { user };
      }),

    // PUT /api/admin/whitelist
    update: adminProcedure
      .input(z.object({
        email: z.string().email(),
        is_preview: z.boolean().optional(),
        usage_count: z.number().optional(),
      }))
      .mutation(async ({ input }) => {
        const user = await updateUserStatus(input);
        return { user };
      }),

    // DELETE /api/admin/whitelist
    delete: adminProcedure
      .input(z.object({
        email: z.string().email(),
      }))
      .mutation(async ({ input }) => {
        await deleteUser(input.email);
        return { success: true };
      }),
  }),
});
```

**í´ë¼ì´ì–¸íŠ¸ (`src/features/admin/lib/useWhitelist.ts`)**

```typescript
import { trpc } from '@/utils/trpc';

export function useWhitelist(password: string) {
  // âœ… React Query ê¸°ë°˜ ìë™ ìƒíƒœ ê´€ë¦¬
  const { 
    data, 
    isLoading, 
    error, 
    refetch 
  } = trpc.admin.whitelist.list.useQuery(undefined, {
    enabled: !!password, // passwordê°€ ìˆì„ ë•Œë§Œ ìë™ ì‹¤í–‰
  });

  const addMutation = trpc.admin.whitelist.add.useMutation({
    onSuccess: () => {
      refetch(); // ëª©ë¡ ìë™ ê°±ì‹ 
    },
  });

  const updateMutation = trpc.admin.whitelist.update.useMutation({
    onSuccess: () => {
      refetch();
    },
  });

  const deleteMutation = trpc.admin.whitelist.delete.useMutation({
    onSuccess: () => {
      refetch();
    },
  });

  return {
    users: data?.users ?? [],
    loading: isLoading,
    error: error?.message ?? '',
    fetchUsers: refetch,
    addUser: (email: string, notes?: string) => 
      addMutation.mutateAsync({ email, notes }),
    updateUserStatus: (email: string, updates: { is_preview?: boolean; usage_count?: number }) =>
      updateMutation.mutateAsync({ email, ...updates }),
    deleteUser: (email: string) =>
      deleteMutation.mutateAsync({ email }),
  };
}
```

### ì½”ë“œ ë³€í™” ìš”ì•½

| í•­ëª© | Before (API Routes) | After (tRPC) |
|------|---------------------|--------------|
| **ì„œë²„ ì½”ë“œ ë¼ì¸ ìˆ˜** | ~80ì¤„ | ~60ì¤„ (-25%) |
| **í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ë¼ì¸ ìˆ˜** | ~100ì¤„ | ~45ì¤„ (-55%) |
| **íƒ€ì… ì•ˆì •ì„±** | ìˆ˜ë™ íƒ€ì… ë‹¨ì–¸ | ìë™ íƒ€ì… ì¶”ë¡  |
| **ì—ëŸ¬ ì²˜ë¦¬** | ìˆ˜ë™ | React Query í†µí•© |
| **ìƒíƒœ ê´€ë¦¬** | useState | React Query (ìë™ ìºì‹±) |
| **ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸** | ë§ìŒ | ì ìŒ |

---

## ì–¸ì œ ë¬´ì—‡ì„ ì„ íƒí•´ì•¼ í• ê¹Œ?

### ì˜ì‚¬ê²°ì • í”Œë¡œìš°ì°¨íŠ¸

```
TypeScriptë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
  â”œâ”€ No â†’ Next.js API Routes
  â””â”€ Yes
      â”œâ”€ ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ ì§€ì›ì´ í•„ìš”í•œê°€?
      â”‚   â”œâ”€ Yes â†’ Next.js API Routes (ë˜ëŠ” tRPC + REST í˜¼ìš©)
      â”‚   â””â”€ No
      â”‚       â”œâ”€ API ì—”ë“œí¬ì¸íŠ¸ê°€ 10ê°œ ì´ìƒì¸ê°€?
      â”‚       â”‚   â”œâ”€ Yes â†’ tRPC ê°•ë ¥ ì¶”ì²œ
      â”‚       â”‚   â””â”€ No
      â”‚       â”‚       â”œâ”€ íƒ€ì… ì•ˆì •ì„±ì„ ì¤‘ì‹œí•˜ëŠ”ê°€?
      â”‚       â”‚       â”‚   â”œâ”€ Yes â†’ tRPC ê¶Œì¥
      â”‚       â”‚       â”‚   â””â”€ No â†’ Next.js API Routes
```

### ìš”ì•½ ê°€ì´ë“œ

| ê¸°ì¤€ | Next.js API Routes | tRPC |
|------|-------------------|------|
| **í”„ë¡œì íŠ¸ ê·œëª¨** | ì†Œí˜• (~5 API) | ì¤‘ëŒ€í˜• (10+ API) |
| **íƒ€ì… ì•ˆì •ì„±** | ìˆ˜ë™ ê´€ë¦¬ | ìë™ ë³´ì¥ |
| **ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸** | ì§€ì› âœ… | ë¯¸ì§€ì› âŒ |
| **í•™ìŠµ ê³¡ì„ ** | ë‚®ìŒ | ì¤‘ê°„ |
| **ê°œë°œ ì†ë„** | ì´ˆê¸°: ë¹ ë¦„<br/>ì¥ê¸°: ë³´í†µ | ì´ˆê¸°: ë³´í†µ<br/>ì¥ê¸°: ë¹ ë¦„ |
| **ë¦¬íŒ©í† ë§** | ìˆ˜ë™, ìœ„í—˜ | ìë™, ì•ˆì „ |
| **ë²ˆë“¤ ì‚¬ì´ì¦ˆ** | 0KB | ~15KB (gzipped) |

---

## ê²°ë¡ 

### ê°ê´€ì  ë¹„êµ ìš”ì•½

**Next.js API Routesì˜ ê°•ì :**
- âœ… ë¹ ë¥¸ ì‹œì‘, ë‚®ì€ ì§„ì… ì¥ë²½
- âœ… REST API í‘œì¤€ ì¤€ìˆ˜
- âœ… ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ ì§€ì›

**tRPCì˜ ê°•ì :**
- âœ… ì—”ë“œíˆ¬ì—”ë“œ íƒ€ì… ì•ˆì •ì„±
- âœ… ìë™ì™„ì„± ë° íƒ€ì… ì¶”ë¡ 
- âœ… ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì œê±°
- âœ… ë¦¬íŒ©í† ë§ ì•ˆì •ì„±

### ì¼ë°˜ì ì¸ ì„ íƒ ê°€ì´ë“œ

| ìƒí™© | ê¶Œì¥ |
|------|------|
| API < 10ê°œ, ë¹ ë¥¸ ì‹œì‘ í•„ìš” | Next.js API Routes |
| API â‰¥ 10ê°œ, íƒ€ì… ì•ˆì •ì„± ì¤‘ì‹œ | tRPC |
| ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ ì§€ì› í•„ìš” | Next.js API Routes |
| í’€ìŠ¤íƒ TS + ë¹ ë¥¸ ë³€í™” | tRPC |

### ë‚˜ì˜ ì„ íƒ

**í˜„ì¬ ìƒí™©**: 15ê°œì˜ ì—”ë“œí¬ì¸íŠ¸, í’€ìŠ¤íƒ TypeScript í”„ë¡œì íŠ¸

**ê²°ì •**: tRPCë¡œ ì „í™˜

ì´ìœ ëŠ” ë‹¨ìˆœí•˜ë‹¤. ê¸€ ì„œë‘ì—ì„œ ë§í–ˆë˜ ê·¸ ë¶ˆì•ˆí•¨:

```typescript
return (await response.json()) as { review: string; message: string };
```

ì´ `as`ë¥¼ ë” ì´ìƒ ì“°ê³  ì‹¶ì§€ ì•Šë‹¤.

tRPCë¥¼ ë„ì…í•˜ë©´ ë²ˆë“¤ ì‚¬ì´ì¦ˆê°€ ì•½ 15KB ëŠ˜ì–´ë‚œë‹¤. React Queryë„ í•¨ê»˜ ë“¤ì–´ì˜¨ë‹¤. í•™ìŠµ ë¹„ìš©ë„ ìˆë‹¤. í•˜ì§€ë§Œ **"ì„œë²„ ì‘ë‹µì´ ë°”ë€Œë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¦‰ì‹œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚œë‹¤"**ëŠ” ê²ƒ. ì´ í•˜ë‚˜ì˜ ì´ì ì´ ëª¨ë“  ë¹„ìš©ì„ ìƒì‡„í•œë‹¤ê³  íŒë‹¨í–ˆë‹¤.

í”„ë¡œë•ì…˜ì—ì„œ `undefined` ì—ëŸ¬ë¥¼ ë””ë²„ê¹…í•˜ëŠ” ê²ƒë³´ë‹¤, IDEì—ì„œ ë¹¨ê°„ ì¤„ì„ ë³´ëŠ” ê²Œ ë‚«ë‹¤.

---

ë¬¼ë¡  ëª¨ë“  í”„ë¡œì íŠ¸ì— tRPCê°€ ì •ë‹µì€ ì•„ë‹ˆë‹¤. ì™¸ë¶€ APIë¥¼ ì œê³µí•´ì•¼ í•œë‹¤ë©´ Next.js API Routesê°€ ë§ë‹¤. ì†Œê·œëª¨ í”„ë¡œì íŠ¸ë¼ë©´ ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì¼ ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ë‚˜ì²˜ëŸ¼ **íƒ€ì… ë¶ˆì¼ì¹˜ ë²„ê·¸ë¡œ ê³ ìƒí•´ë³¸ ê²½í—˜**ì´ ìˆë‹¤ë©´, tRPCëŠ” í™•ì‹¤íˆ ê²€í† í•´ë³¼ ê°€ì¹˜ê°€ ìˆë‹¤.

---

## ì°¸ê³  ìë£Œ

- [tRPC ê³µì‹ ë¬¸ì„œ](https://trpc.io)
- [Next.js Route Handlers ë¬¸ì„œ](https://nextjs.org/docs/app/building-your-application/routing/route-handlers)
- [React Query ê³µì‹ ë¬¸ì„œ](https://tanstack.com/query)
- [Zod ê³µì‹ ë¬¸ì„œ](https://zod.dev)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-15
