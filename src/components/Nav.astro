---
const pathname = Astro.url.pathname;
const searchParams = Astro.url.searchParams;
const currentCategory = searchParams.get('category');

const isActive = (path: string) => {
  if (path === '/') {
    return pathname === '/' && !currentCategory;
  }
  if (path === '/lists') {
    return pathname === '/lists' || pathname === '/lists/' || !!currentCategory;
  }
  return pathname === path || pathname === `${path}/`;
};

const navItems = [
  { label: 'Home', href: '/' },
  { label: 'Lists', href: '/lists' },
  { label: 'About', href: '/about-me' },
];
---

<nav class="mt-5 flex gap-8">
  {navItems.map((item) => (
    <a
      href={item.href}
      class:list={[
        'relative pb-2 text-sm font-medium transition-colors after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-amber-300 after:transition-transform after:duration-300',
        isActive(item.href)
          ? 'text-black after:scale-x-100 dark:text-white'
          : 'text-gray-500 after:scale-x-0 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200',
      ]}
    >
      {item.label}
    </a>
  ))}
</nav>
